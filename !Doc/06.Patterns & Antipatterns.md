# Паттерны и антипартерны модульных тестов

## Три столба модульных тестов

### Вызывают доверие
- Разработчики хотят запускать
- Доверие результатам теста
- Если упал - не надо дебажить чтобы проверить
- Если упал - значит сломалось
- Алгоритм работы с багами
- Рефакторинг тестов
- Меньше логики в тестах
- 1 проверка
  - return
  - state
  - call
- Зеленая зона

### Поддерживаемые
- Причины неподдерживаемых тестов
  - Долго менять
  - Часто падают после небольших изменений
- Только публичный API
- DRY
  - Builders
- Изолированные
- Overspecification

### Читаемые
- Без читаемости, остальные 2 столба падают


## Паттерны разработки модульных тестов
[Флип](https://disk.yandex.ru/d/150AIWfx3GU3BP/19_TestDevPatterns.jpg)
- Тестовые данные
  - Понятные
  - Информативные
  - Непротиворечивые
- Изолированные тесты
- Список тестов
- Assert first
- Тест-пояснение
- Тест-изучение
- Регрессионный тест
- Чистый коммит
- Один красный тест
- Не тестируйте нетестируемое

## Анти-паттерны разработки модульных тестов
- Много красных тестов
- Автогенеренный код
- Элементарный код
- Погоня за code coverage
